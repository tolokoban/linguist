require("tfw.timer",function(t,i,n){var e=function(){function i(){return e(n,arguments)}var n={en:{}},e=t("$").intl;return i.all=n,i}();t("polyfill.promise"),n.later=function(t){return void 0===t&&(t=1),new Promise(function(i,n){window.setTimeout(i,t)})};var r=function(t,i){"number"!=typeof i&&(i=300),i<0&&(i=0);this.enabled=!0,this.waiting=!1,this.action=t,this.delay=i,this.timer=0};r.prototype.dbg=function(t){console.log((this.enabled?"E":"e")+(this.waiting?"W":"w")+": "+t)},r.prototype.fire=function(){var t=this;if(this.timer&&window.clearTimeout(this.timer),this.enabled){this.waiting=!1;var i=function(){t.enabled=!0,t.waiting&&t.fire()};this.timer=window.setTimeout(function(){t.timer=0,t.enabled=!1,t.action().then(i,i)},t.delay)}else this.waiting=!0};var o=function(t,i){"number"!=typeof i&&(i=300),i<0&&(i=100);this.action=t,this.delay=i,this.timer=0};o.prototype.fire=function(){var t=this;this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(function(){t.timer=0,t.enabled=!1,t.action()},t.delay)};var u=function(){this._timer=null,this._action=null};u.prototype.fire=function(t,i){var n=this;return this._timer||(t(),this._timer=window.setTimeout(function(){n._timer=null},i)),this},n.laterPromise=function(t,i){return new r(function(){return new Promise(t)},i)},n.laterAction=function(t,i){return new o(t,i)},n.longAction=function(){return new u},i.exports._=e});
//# sourceMappingURL=tfw.timer.js.map