require("tfw.timer",function(t,i){function e(){return r(n,arguments)}var n={en:{}},r=require("$").intl;require("tfw.promise"),t.later=function(t){return"undefined"==typeof t&&(t=1),new Promise(function(i,e){window.setTimeout(i,t)})};var o=function(t,i){"number"!=typeof i&&(i=300),i<0&&(i=0);this.enabled=!0,this.waiting=!1,this.action=t,this.delay=i,this.timer=0};o.prototype.dbg=function(t){console.log((this.enabled?"E":"e")+(this.waiting?"W":"w")+": "+t)},o.prototype.fire=function(){var t=this;if(this.timer&&window.clearTimeout(this.timer),this.enabled){this.waiting=!1;var i=function(){t.enabled=!0,t.waiting&&t.fire()};this.timer=window.setTimeout(function(){t.timer=0,t.enabled=!1,t.action().then(i,i)},t.delay)}else this.waiting=!0};var u=function(t,i){"number"!=typeof i&&(i=300),i<0&&(i=100);this.action=t,this.delay=i,this.timer=0};u.prototype.fire=function(){var t=this;this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(function(){t.timer=0,t.enabled=!1,t.action()},t.delay)};var s=function(){this._timer=null,this._action=null};s.prototype.fire=function(t,i){var e=this;return this._timer||(t(),this._timer=window.setTimeout(function(){e._timer=null},i)),this},t.laterPromise=function(t,i){return new o(function(){return new Promise(t)},i)},t.laterAction=function(t,i){return new u(t,i)},t.longAction=function(){return new s},i.exports._=e});
//# sourceMappingURL=tfw.timer.js.map