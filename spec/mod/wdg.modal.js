require("wdg.modal",function(t,e,n){function o(t){var e=this,n=r.div(),o=r.tag("header","thm-ele8","thm-bgPD"),i=r.tag("footer"),c=r.div("cell","thm-ele24","thm-bg0",[o,n,i]);r.elem(this,"div","wdg-modal",[r.div([c])]);a.prop(this,"content")(function(t){r.clear(n),Array.isArray(t)?t.forEach(function(t){r.add(n,t)}):void 0!==t&&null!==t&&r.add(n,t)}),a.prop(this,"header")(function(t){r.clear(o),Array.isArray(t)?t.forEach(function(t){r.add(o,t)}):void 0!==t&&null!==t&&r.add(o,t)}),a.prop(this,"footer")(function(t){r.clear(i),Array.isArray(t)?t.forEach(function(t){r.add(i,t)}):void 0!==t&&null!==t&&r.add(i,t)}),a.propString(this,"width")(function(t){r.css(n,{"max-width":t})}),a.propAddClass(this,"fullscreen"),a.propAddClass(this,"padding"),a.propAddClass(this,"scroll"),a.propAddClass(this,"wide"),a.propBoolean(this,"visible")(function(t){t?e.attach():e.detach()}),t=a.extend({visible:!1,header:[],content:[],footer:[],padding:!0,scroll:!0,wide:!1,fullscreen:!1,width:"auto"},t,this)}var i=function(){function e(){return o(n,arguments)}var n={en:{cancel:"Cancel",close:"Got it",confirm:"Confirm",ok:"Accept"},fr:{cancel:"Annuler",close:"J'ai compris",confirm:"Confirmation",ok:"Accepter"}},o=t("$").intl;return e.all=n,e}(),r=t("dom"),a=t("tfw.data-binding"),c=(t("wdg.flex"),t("wdg.button"));o.prototype.refresh=function(){return a.fire(this,"content"),this},o.prototype.attach=function(){var t=this;this._timeoutDetach&&(window.clearTimeout(this._timeoutDetach),delete this._timeoutDetach),document.body.appendChild(this.element),a.set(this,"visible",!0),r.addClass(this,"fadeout"),window.setTimeout(function(){r.removeClass(t,"fadeout")})},o.prototype.detach=function(){var t=this;window.setTimeout(function(){r.addClass(t,"fadeout")}),this._timeoutDetach=window.setTimeout(function(){delete this._timeoutDetach,a.set(t,"visible",!1),r.detach(t.element)},250)},o.confirm=function(t,e,n){"function"==typeof e&&(t={content:t,onYes:e,onNo:n}),void 0===t.title&&(t.title=i("confirm")),void 0===t.yes&&(t.yes=i("ok")),void 0===t.no&&(t.no=i("cancel")),void 0===t.onYes&&(t.onYes=function(){}),void 0===t.onNo&&(t.onNo=function(){}),e=t.onYes,n=t.onNo;var a=new c({text:t.yes,flat:!0}),d=new c({text:t.no,flat:!0});if(Array.isArray(t.content)&&(t.content=r.div(t.content)),"string"==typeof t.content&&"<html>"==t.content.substr(0,6)){var s=t.content.substr(6);t.content=r.div(),t.content.innerHTML=s}var l=new o({header:t.title,footer:[d,a],content:t.content});return l.attach(),d.on(function(){l.detach(),"function"==typeof n&&n()}),a.on(function(){if("function"==typeof e){var t=e();"string"!=typeof t?l.detach():(d.visible=!1,a.waitOn(t))}else l.detach()}),l},o.alert=function(t,e){var n=new c({text:i("close"),flat:!0}),a=r.div("wdg-modal-flush-right",[n]);if("string"==typeof t&&"<html>"==t.substr(0,6)){var d=t.substr(6);t=r.div(),t.innerHTML=d}var s=new o({footer:n,content:r.div([r.div("scrollable",[t]),a])});return s.attach(),n.on(function(){s.detach(),"function"==typeof e&&e()}),s},e.exports=o,e.exports._=i});
//# sourceMappingURL=wdg.modal.js.map